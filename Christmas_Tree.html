<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Merry Christmas! by SeanLin - seanlin0324@gmail.com </title>
    <!-- IOS setting -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />  
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">

        
    <style type="text/css" >
        #myBody { 
            background-color: #000;
            color: #fff;
            font-family: arial;
            font-size: 100%;
        }
        
        .leaf {
            color: green;
        }
        .trunk {
            color: #8A5B15;
        }
        .title {
            color: #fff;
            font-weight: bold;
        }
        .customization label{
            font-size: 90%;
        }
        .info {
            font-size: 80%;
        }
    </style>
</head>

<body id="myBody">
    <div class="customization">
        <label>Leaf Height: </label> <input id="leaf_height" value="10"><br/>
        
        <label>Trunk Width: </label> <input id="trunk_width" value="3"><br/>
        <label>Trunk Height: </label> <input id="trunk_height" value="3"><br/>
        
        <button id="custom">Custom !</button>
    </div> 
    <p class="title"> Merry Christmas! </p>
    <pre id="tree"></pre>
    
    <p class="info">codeing by <a href="mailto:seanlin0324@gmail.com">Sean Lin</p>
</body>


<script>
    // a Christmas Tree Maker
    // (c) 2012 Sean Lin - http://seanlin0324.blogspot.tw/ 
    // License: http://www.opensource.org/licenses/mit-license.php
    var plantTree = function (args) {
        var leaf_height = args.leaf_height, 
            leaf = '',
            trunk = '',
            trunk_height = args.trunk_height,
            trunk_width = args.trunk_width,// only can use odd number!
            christmas_tree = ' ';
            
        for (var i = 0; i < leaf_height; i++) {
            leaf += '<div class="leaf">';
            for (var j = 0 ; j < leaf_height - i; j++){
                leaf += ' ';
            }
            for(var k = 0; k < (i * 2) + 1; k++){
                leaf += '*';
            }
            leaf += '</div>';
        }

        for (var l = 0; l < trunk_height; l++) {
            trunk += '<div class="trunk">';
            for (var j = 0 ; j < leaf_height - trunk_width + Math.ceil(trunk_width/2); j++){
                trunk += ' ';
            }
            for (var j = 0 ; j < trunk_width; j++){
                trunk += '*';
            }
            trunk += '</div>';
        }
        christmas_tree = leaf + trunk;
        document.getElementById("tree").innerHTML = christmas_tree;
    }

    plantTree({
        'leaf_height': 10,
        'trunk_height': 3,
        'trunk_width': 3
    });
    
    document.getElementById("custom").onclick = function(){
        var leaf_height = parseInt(document.getElementById("leaf_height").value, 10),
            trunk_height = parseInt(document.getElementById("trunk_height").value, 10),
            trunk_width = parseInt(document.getElementById("trunk_width").value, 10);
        
        if (trunk_width % 2 === 0){
            trunk_width = trunk_width + 1;
        }
        
        plantTree({
            'leaf_height': leaf_height,
            'trunk_height': trunk_height,
            'trunk_width': trunk_width
        });
    };
    </script>
</html>
